---
title: Archivo de inclusión
description: Archivo de inclusión
ms.topic: include
ms.assetid: 0741073e-62de-4e31-8e3b-cd1a55027c1c
ms.localizationpriority: medium
ms.openlocfilehash: b03420e0229bed45fba5a079b955d62165a6b642
ms.sourcegitcommit: 945a0f4bda02e3b4eb9a665379c2af9bd5285a53
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/18/2019
ms.locfileid: "58907607"
---
## <a name="preliminary-setup-for-push-notifications"></a><span data-ttu-id="179f3-103">Instalación preliminar para las notificaciones de inserción</span><span class="sxs-lookup"><span data-stu-id="179f3-103">Preliminary setup for push notifications</span></span>

### <a name="register-your-app-for-push-notifications"></a><span data-ttu-id="179f3-104">Registrar la aplicación para notificaciones de inserción</span><span class="sxs-lookup"><span data-stu-id="179f3-104">Register your app for push notifications</span></span>

<span data-ttu-id="179f3-105">Registrar la aplicación con Apple para [notificaciones Push de Apple](https://developer.apple.com/notifications/) admite.</span><span class="sxs-lookup"><span data-stu-id="179f3-105">Register your application with Apple for [Apple Push Notification](https://developer.apple.com/notifications/) support.</span></span> <span data-ttu-id="179f3-106">No olvide tomar nota del remitente clave de servidor y el identificador que recibe; los necesitará más adelante.</span><span class="sxs-lookup"><span data-stu-id="179f3-106">Be sure to make note of the sender ID and server key that you receive; you'll need them later.</span></span> 

<span data-ttu-id="179f3-107">Una vez registrado, debe asociar la funcionalidad de notificación de inserción con la plataforma de dispositivos conectados en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="179f3-107">Once registered, you must associate push notification functionality with the Connected Devices Platform in your app.</span></span>

```ObjectiveC
self.notificationRegistration = [[MCDConnectedDevicesNotificationRegistration alloc] init];
    if ([[UIApplication sharedApplication] isRegisteredForRemoteNotifications])
    {
        self.notificationRegistration.type = MCDNotificationTypeAPN;
    }
    else
    {
        self.notificationRegistration.type = MCDNotificationTypePolling;
    }
    self.notificationRegistration.appId = [[NSBundle mainBundle] bundleIdentifier];
    self.notificationRegistration.appDisplayName = (NSString*)[[NSBundle mainBundle] objectForInfoDictionaryKey:@"CFBundleDisplayName"];
    self.notificationRegistration.token = deviceToken;
    self.isRegisteredWithToken = YES;
```

### <a name="register-your-app-in-microsoft-windows-dev-center-for-cross-device-experiences"></a><span data-ttu-id="179f3-108">Registrar la aplicación en Microsoft Windows Dev Center para experiencias multidispositivo</span><span class="sxs-lookup"><span data-stu-id="179f3-108">Register your app in Microsoft Windows Dev Center for cross-device experiences</span></span>
<span data-ttu-id="179f3-109">Si necesita comunicación al dispositivo iOS, deberá registrarse en Microsoft Windows Dev Center.</span><span class="sxs-lookup"><span data-stu-id="179f3-109">If you require communication to your iOS device, you'll need to register with the Microsoft Windows Dev Center.</span></span>  <span data-ttu-id="179f3-110">A continuación, deberá registrar la aplicación para la [experiencias multidispositivo característica del panel del desarrollador de Microsoft](https://developer.microsoft.com/dashboard/crossplatform/web).</span><span class="sxs-lookup"><span data-stu-id="179f3-110">Next, you need to register your app for the [cross-device experiences feature of the Microsoft Developer Dashboard](https://developer.microsoft.com/dashboard/crossplatform/web).</span></span> <span data-ttu-id="179f3-111">Se trata de un procedimiento diferente MSA y AAD del registro de aplicación anterior.</span><span class="sxs-lookup"><span data-stu-id="179f3-111">This is a different procedure from MSA and AAD app registration above.</span></span> <span data-ttu-id="179f3-112">El objetivo principal de este proceso consiste en asignar las identidades de aplicación específico de plataforma con una identidad de aplicación multiplataforma que es reconocido por la plataforma de dispositivos conectados y, al mismo tiempo se autoriza la plataforma para enviar notificaciones mediante la notificación de inserción nativa servicios correspondientes a cada plataforma móvil.</span><span class="sxs-lookup"><span data-stu-id="179f3-112">The main goal for this process is to map the platform specific app identities with a cross-platform app identity that is recognized by Connected Devices Platform, and at the same time authorizes the Platform to send notifications using the native push notification services corresponding to each mobile platform.</span></span> <span data-ttu-id="179f3-113">En este caso, permite la comunicación a extremos de la aplicación iOS mediante Apple Push Notification Service: Apple Push Notification Service.</span><span class="sxs-lookup"><span data-stu-id="179f3-113">In this case, it enables communication to iOS app endpoints via APNs – Apple Push Notification Service.</span></span> <span data-ttu-id="179f3-114">Ir al panel del centro de desarrollo, vaya a experiencias multidispositivo desde el panel de navegación del lado izquierdo y seleccione Configurar una nueva aplicación de dispositivo cruzado.</span><span class="sxs-lookup"><span data-stu-id="179f3-114">Go to Dev Center Dashboard, navigate to Cross-Device Experiences from the left side navigation pane, and select configuring a new cross-device app.</span></span>
<span data-ttu-id="179f3-115">![Panel del centro de desarrollo: experiencias multidispositivo](../../notifications/media/dev_center_portal/dev_center_portal_1_overview.png)</span><span class="sxs-lookup"><span data-stu-id="179f3-115">![Dev Center Dashboard – Cross-Device Experiences](../../notifications/media/dev_center_portal/dev_center_portal_1_overview.png)</span></span>

<span data-ttu-id="179f3-116">El proceso de incorporación de centro de desarrollo requieren los siguientes pasos:</span><span class="sxs-lookup"><span data-stu-id="179f3-116">The Dev Center on-boarding process require the following steps:</span></span>
* <span data-ttu-id="179f3-117">Seleccione las plataformas admitidas: seleccione las plataformas donde la aplicación tendrá una presencia y habilitarse para experiencias multidispositivo.</span><span class="sxs-lookup"><span data-stu-id="179f3-117">Select supported platforms – select the platforms where your app will have a presence and be enabled for cross-device experiences.</span></span> <span data-ttu-id="179f3-118">Puede seleccionar desde Windows, Android o iOS.</span><span class="sxs-lookup"><span data-stu-id="179f3-118">You can select from Windows, Android, and/or iOS.</span></span>
<span data-ttu-id="179f3-119">![Plataformas compatibles con experiencias multidispositivo:](../../notifications/media/dev_center_portal/dev_center_portal_2_supported_platforms.png)</span><span class="sxs-lookup"><span data-stu-id="179f3-119">![Cross-Device Experiences – Supported Platforms](../../notifications/media/dev_center_portal/dev_center_portal_2_supported_platforms.png)</span></span>

* <span data-ttu-id="179f3-120">Proporcione los identificadores de aplicación: proporcione los identificadores de aplicación para cada uno de la plataforma donde la aplicación tiene una presencia.</span><span class="sxs-lookup"><span data-stu-id="179f3-120">Provide app IDs – provide app IDs for each of the platform where your app has a presence.</span></span>
<span data-ttu-id="179f3-121">![Experiencias multidispositivo: identificadores de aplicación](../../notifications/media/dev_center_portal/dev_center_portal_3_app_ids.png)</span><span class="sxs-lookup"><span data-stu-id="179f3-121">![Cross-Device Experiences – App IDs](../../notifications/media/dev_center_portal/dev_center_portal_3_app_ids.png)</span></span>
> [!NOTE]
> <span data-ttu-id="179f3-122">Puede agregar distintos identificadores (hasta diez) por plataforma, que es en caso de tener varias versiones de la misma aplicación, o incluso diferentes aplicaciones, lo que quiere que sea capaz de recibir las mismas notificaciones enviadas por el servidor de aplicaciones de destino en el mismo usuario.</span><span class="sxs-lookup"><span data-stu-id="179f3-122">You may add different IDs (up to ten) per platform – this is in case you have multiple version of the same app, or even different apps, that want to be able to receive the same notifications sent by your app server targeted at the same user.</span></span> 
> [!TIP] 
> <span data-ttu-id="179f3-123">Para las aplicaciones de iOS, esto es el nombre de paquete asignada a la aplicación cuando creó el proyecto.</span><span class="sxs-lookup"><span data-stu-id="179f3-123">For iOS apps, this is the Package Name you assigned to your app when you created the project.</span></span> 

* <span data-ttu-id="179f3-124">Proporcione o seleccione la aplicación de los identificadores de MSA o AAD registros de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="179f3-124">Provide or select the app IDs from MSA and/or AAD app registrations.</span></span> <span data-ttu-id="179f3-125">Estos identificadores de cliente correspondientes al registro de aplicación AAD o de MSA se obtuvieron en los pasos de registro de aplicación AAD/MSA anteriores desde arriba.</span><span class="sxs-lookup"><span data-stu-id="179f3-125">These client IDs corresponding to MSA or AAD app registration were obtained in the previous MSA/AAD app registration steps from above.</span></span>
<span data-ttu-id="179f3-126">![Experiencias multidispositivo – MSA y registros de aplicaciones AAD](../../notifications/media/dev_center_portal/dev_center_portal_4_msa_aad_connections.png)</span><span class="sxs-lookup"><span data-stu-id="179f3-126">![Cross-Device Experiences – MSA and AAD App Registrations](../../notifications/media/dev_center_portal/dev_center_portal_4_msa_aad_connections.png)</span></span>
* <span data-ttu-id="179f3-127">Conectar dispositivos plataforma capacidades aprovecha cada de las plataformas de notificación nativa en las plataformas principales para enviar notificaciones hasta que el cliente de aplicación de extremos, es decir, WNS (para Windows UWP), GCM (para Android) y Apple Push Notification Service (para iOS).</span><span class="sxs-lookup"><span data-stu-id="179f3-127">Connected Devices Platform capabilities leverages each of the native notification platforms on major platforms to send notifications down to the app client endpoints, namely, WNS (for Windows UWP), GCM (for Android) and APNs (for iOS).</span></span> <span data-ttu-id="179f3-128">Proporcione sus credenciales para estas plataformas de notificación para habilitar la plataforma para entregar las notificaciones para el servidor de aplicaciones, al publicar las notificaciones de usuario de destino.</span><span class="sxs-lookup"><span data-stu-id="179f3-128">Provide your credentials for these notification platforms to enable the Platform to deliver the notifications for your app server, when you publish user-targeted notifications.</span></span> 
<span data-ttu-id="179f3-129">![Experiencias multidispositivo: credenciales de inserción](../../notifications/media/dev_center_portal/dev_center_portal_5_push_credentials.png)</span><span class="sxs-lookup"><span data-stu-id="179f3-129">![Cross-Device Experiences – Push Credentials](../../notifications/media/dev_center_portal/dev_center_portal_5_push_credentials.png)</span></span>
> [!NOTE] 
> <span data-ttu-id="179f3-130">Para iOS, la habilitación de Apple Push Notification Service es un requisito previo para la comunicación con un dispositivo iOS.</span><span class="sxs-lookup"><span data-stu-id="179f3-130">For iOS, enabling APNs is a prerequisite to communication to an iOS device.</span></span> <span data-ttu-id="179f3-131">Consulte [APNs Overview](https://developer.apple.com/library/archive/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/APNSOverview.html#//apple_ref/doc/uid/TP40008194-CH8-SW1) para obtener más detalles.</span><span class="sxs-lookup"><span data-stu-id="179f3-131">See [APNs Overview](https://developer.apple.com/library/archive/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/APNSOverview.html#//apple_ref/doc/uid/TP40008194-CH8-SW1) for more details.</span></span> <span data-ttu-id="179f3-132">Cuando haya completado la incorporación, a continuación, puede proporcionar las credenciales de inserción a través del centro de desarrollo de Windows para la plataforma de dispositivos conectados.</span><span class="sxs-lookup"><span data-stu-id="179f3-132">Once you complete the onboarding, you can then provide the push credentials via Windows Dev Center to the Connected Device Platform.</span></span> 
* <span data-ttu-id="179f3-133">El último paso es comprobar el dominio de aplicación entre dispositivos, que actúa como un proceso de comprobación para demostrar que la aplicación tiene que actúa como una identidad de aplicación entre dispositivos de la aplicación que registró la propiedad de este dominio.</span><span class="sxs-lookup"><span data-stu-id="179f3-133">The last step is to verify your cross-device app domain, which serves as a verification process to prove that your app has the ownership of this domain which acts like a cross-device app identity for the app you registered.</span></span>
<span data-ttu-id="179f3-134">![Experiencias multidispositivo: comprobación de dominio](../../notifications/media/dev_center_portal/dev_center_portal_6_domain_verification.png)</span><span class="sxs-lookup"><span data-stu-id="179f3-134">![Cross-Device Experiences – Domain Verification](../../notifications/media/dev_center_portal/dev_center_portal_6_domain_verification.png)</span></span>

### <a name="process-notifications-as-they-are-received-by-the-app"></a><span data-ttu-id="179f3-135">Procesar las notificaciones que son recibidos por la aplicación</span><span class="sxs-lookup"><span data-stu-id="179f3-135">Process notifications as they are received by the app</span></span>

<span data-ttu-id="179f3-136">Una vez que se haya validado la experiencia entre dispositivos en Microsoft Windows Dev Center, asegúrese de que la aplicación puede procesar las notificaciones, tal y como vienen.</span><span class="sxs-lookup"><span data-stu-id="179f3-136">Once the Cross-Device experience within the Microsoft Windows Dev Center has been validated, make sure your app can process the notifications as they come in.</span></span> 

```ObjectiveC
`MCDConnectedDevicesProcessNotificationOperation* processOperation = [_platformManager.platform processNotification:notificationInfo];`
```