---
title: include file
description: include file
ms.topic: include
ms.assetid: bbef84bf-a6b7-44be-879d-0fa6065e37b1
ms.localizationpriority: medium
ms.openlocfilehash: ea97fbf5fad21b342300a283136a642c5a16672e
ms.sourcegitcommit: e95423df0e4427377ab74dbd12b0056233181d32
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 06/14/2019
ms.locfileid: "66755723"
---
### <a name="msa-and-aad-authentication-registration"></a><span data-ttu-id="1d26d-103">Registro de autenticación con MSA y AAD</span><span class="sxs-lookup"><span data-stu-id="1d26d-103">MSA and AAD Authentication Registration</span></span>

<span data-ttu-id="1d26d-104">Todas las características del SDK, incluida Notificaciones, necesitan el registro de autenticación de la cuenta de Microsoft (MSA) o Azure Active Directory (AAD), excepto las API de Uso compartido en proximidad.</span><span class="sxs-lookup"><span data-stu-id="1d26d-104">Microsoft Account (MSA) or Azure Active Directory (AAD) authentication registration is required for all features of the SDK including Notifications, except for the Nearby sharing APIs.</span></span> 

> [!NOTE]
> <span data-ttu-id="1d26d-105">No se admiten cuentas de Azure Active Directory (AAD) con las API de Retransmisión de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="1d26d-105">Azure Active Directory (AAD) accounts are not supported with the Device Relay APIs.</span></span>

<span data-ttu-id="1d26d-106">Si aún no tienes una cuenta MSA y deseas usarla, regístrate en [account.microsoft.com](https://account.microsoft.com/account).</span><span class="sxs-lookup"><span data-stu-id="1d26d-106">If you do not already have an MSA and wish to use one, register on [account.microsoft.com](https://account.microsoft.com/account).</span></span>

<span data-ttu-id="1d26d-107">Si después utilizas MSA como marco de autenticación e identidad para los usuarios, debes registrar la aplicación con Microsoft; para ello, sigue las instrucciones del [Portal de registro de aplicaciones](https://apps.dev.microsoft.com/) (si no tienes una cuenta de desarrollador de Microsoft, antes debes crearla).</span><span class="sxs-lookup"><span data-stu-id="1d26d-107">Next, if you are using MSA as the authentication and identity framework for your users, you must register your app with Microsoft by following the instructions on the [Application Registration Portal](https://apps.dev.microsoft.com/) (if you do not have a Microsoft developer account, you must create one first).</span></span> <span data-ttu-id="1d26d-108">Debes recibir una cadena de id. de cliente para la aplicación; asegúrate de recordar la ubicación o guardarla.</span><span class="sxs-lookup"><span data-stu-id="1d26d-108">You should receive a client ID string for your app; make sure to remember the location or save this.</span></span> <span data-ttu-id="1d26d-109">La usarás más adelante durante la incorporación a Notificaciones de Graph.</span><span class="sxs-lookup"><span data-stu-id="1d26d-109">Later this will be used during Graph Notifications onboarding.</span></span> <span data-ttu-id="1d26d-110">Ten en cuenta que una aplicación que utiliza la autenticación de MSA debe estar registrada como aplicación de SDK de Live, como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="1d26d-110">Note that an app using MSA authentication needs to be registered as a Live SDK application as shown below.</span></span>
<span data-ttu-id="1d26d-111">![Portal de registro de aplicaciones](../../notifications/media/msa_app_registration/app_registration_portal.png)</span><span class="sxs-lookup"><span data-stu-id="1d26d-111">![Application Registration Portal](../../notifications/media/msa_app_registration/app_registration_portal.png)</span></span>

<span data-ttu-id="1d26d-112">Si escribes una aplicación que usa AAD como marco de autenticación e identidad de cuentas profesionales o educativas, debes registrarla a través de las [bibliotecas de autenticación de Azure Active Directory](https://docs.microsoft.com/azure/active-directory/develop/active-directory-authentication-libraries) con el fin de obtener el id. de cliente, como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="1d26d-112">If you're writing an app that uses AAD as work account or school account authentication and identity framework, you must register your app via [Azure Active Directory Authentication Libraries](https://docs.microsoft.com/azure/active-directory/develop/active-directory-authentication-libraries) in order to get the client ID, as shown below.</span></span> 
 <span data-ttu-id="1d26d-113">![Portal de registro de AAD](../../notifications/media/aad_registration_portal/aad_registration_portal.png) Cuando se crea el registro de una nueva aplicación, se necesitan algunos permisos para poder usar las notificaciones de Graph y otras funcionalidades de la plataforma de dispositivos conectados.</span><span class="sxs-lookup"><span data-stu-id="1d26d-113">![AAD Registration Portal](../../notifications/media/aad_registration_portal/aad_registration_portal.png) When creating a new app registration, there are a few permissions required in order to use Graph Notifications and other connected device platform capabilities.</span></span> <span data-ttu-id="1d26d-114">Consúltalos a continuación.</span><span class="sxs-lookup"><span data-stu-id="1d26d-114">Please see below.</span></span> 
<span data-ttu-id="1d26d-115">![Portal de registro de AAD: configuración, permisos necesarios](../../notifications/media/aad_registration_portal/aad_registration_portal_permissions.png)</span><span class="sxs-lookup"><span data-stu-id="1d26d-115">![AAD Registration Portal – Setting – Required Permissions](../../notifications/media/aad_registration_portal/aad_registration_portal_permissions.png)</span></span>
* <span data-ttu-id="1d26d-116">Agrega el permiso de inicio de sesión del usuario tal como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="1d26d-116">Add user sign-in permission shown as below.</span></span>
<span data-ttu-id="1d26d-117">![Permisos necesarios: perfil de usuario de AAD](../../notifications/media/aad_registration_portal/permissions_1_user.png)</span><span class="sxs-lookup"><span data-stu-id="1d26d-117">![Required Permissions – AAD User Profile](../../notifications/media/aad_registration_portal/permissions_1_user.png)</span></span>
* <span data-ttu-id="1d26d-118">Agrega permisos del servicio de comandos para la información de dispositivo, tal como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="1d26d-118">Add Command Service permissions for device information, shown as below.</span></span>
<span data-ttu-id="1d26d-119">![Permisos necesarios: dispositivos](../../notifications/media/aad_registration_portal/permissions_2_devices.png)</span><span class="sxs-lookup"><span data-stu-id="1d26d-119">![Required Permissions – Devices](../../notifications/media/aad_registration_portal/permissions_2_devices.png)</span></span>
* <span data-ttu-id="1d26d-120">Agrega el permiso para notificaciones de Graph en las API del servicio de fuente de actividades, tal como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="1d26d-120">Add Graph Notifications permission under Activity Feed Service APIs, shown as below.</span></span>
<span data-ttu-id="1d26d-121">![Permisos necesarios: dispositivos](../../notifications/media/aad_registration_portal/permissions_3_graph_notifications.png)</span><span class="sxs-lookup"><span data-stu-id="1d26d-121">![Required Permissions – Devices](../../notifications/media/aad_registration_portal/permissions_3_graph_notifications.png)</span></span>
* <span data-ttu-id="1d26d-122">Al final, si escribes una aplicación multiplataforma que incluye una aplicación para UWP que se ejecuta en Windows, asegúrate de agregar el permiso del Servicio de notificaciones de Windows, tal como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="1d26d-122">At the end, if you are writing cross-platform application including an UWP app running on Windows, make sure to add Windows Notification Service permission, shown as below.</span></span> 
<span data-ttu-id="1d26d-123">![Permisos necesarios: servicios de notificaciones de inserción de Windows](../../notifications/media/aad_registration_portal/permissions_4_wns_push.png)</span><span class="sxs-lookup"><span data-stu-id="1d26d-123">![Required Permissions – WNS](../../notifications/media/aad_registration_portal/permissions_4_wns_push.png)</span></span>
