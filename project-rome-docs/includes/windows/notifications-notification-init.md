---
ms.openlocfilehash: f81fbbffb2ec54f8d9a252a00fc3822f1f3f9582
ms.sourcegitcommit: e95423df0e4427377ab74dbd12b0056233181d32
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 06/14/2019
ms.locfileid: "59800857"
---
### <a name="associate-the-connected-devices-platform-with-the-native-push-notification-for-each-platform"></a><span data-ttu-id="c9cc1-101">Asociación de la plataforma de dispositivos conectados a la notificación push nativa para cada plataforma</span><span class="sxs-lookup"><span data-stu-id="c9cc1-101">Associate the Connected Devices Platform with the native push notification for each platform.</span></span> 

<span data-ttu-id="c9cc1-102">Como se mencionó anteriormente, los clientes de la aplicación deben proporcionar el conocimiento acerca de la canalización de las notificaciones push nativas que se usa para cada plataforma en el SDK de cliente y la plataforma de dispositivos conectados durante el proceso de registro, de forma que el servicio de notificaciones de Graph pueda realizar la distribución ramificada de las notificaciones a cada punto de conexión cliente de la aplicación cuando el servidor de aplicaciones publique una notificación destinada al usuario a través de las API de MS Graph.</span><span class="sxs-lookup"><span data-stu-id="c9cc1-102">Like previously mentioned, the app clients need to provide knowledge about the native push notification pipeline being used for each platform to the client-side SDK and the Connected Devices Platform during the registration process, in order to allow Graph notification service to fan-out notifications to each app client endpoint when your app server publishes a user-targeting notification via MS Graph APIs.</span></span>
<span data-ttu-id="c9cc1-103">En los pasos anteriores, inicializaste la plataforma sin el parámetro **NotificationProvider**.</span><span class="sxs-lookup"><span data-stu-id="c9cc1-103">In the steps above, you initialized the Platform without **NotificationProvider** parameter.</span></span> <span data-ttu-id="c9cc1-104">Ahora debes construir y pasar un objeto que implemente **NotificationProvider**.</span><span class="sxs-lookup"><span data-stu-id="c9cc1-104">Here, you need to construct and pass in an object that implements **NotificationProvider**.</span></span> <span data-ttu-id="c9cc1-105">Consulta el archivo **GraphNotificationProvider.cs** del ejemplo para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="c9cc1-105">Please see **GraphNotificationProvider.cs** from sample for details.</span></span> 



<span data-ttu-id="c9cc1-106">Incluye este registro en la implementación de **NotificationProvider**.</span><span class="sxs-lookup"><span data-stu-id="c9cc1-106">Deliver this registration in your implementation of **NotificationProvider**.</span></span> <span data-ttu-id="c9cc1-107">A continuación, la llamada de inicialización de **Platform** debe proporcionar a la instancia de **Platform** local el acceso al servicio de notificaciones push, lo que permite que la aplicación reciba datos de las notificaciones de MS Graph en el servidor.</span><span class="sxs-lookup"><span data-stu-id="c9cc1-107">Then, the **Platform** initialization call should provide the local **Platform** with access to the push notification service, allowing your app to receive data from the MS Graph Notifications server-side.</span></span> 

### <a name="pass-incoming-push-notifications-to-the-client-sdk"></a><span data-ttu-id="c9cc1-108">Paso de notificaciones push entrantes al SDK de cliente</span><span class="sxs-lookup"><span data-stu-id="c9cc1-108">Pass incoming push notifications to the client SDK</span></span>
<span data-ttu-id="c9cc1-109">Ahora, puedes controlar la carga entrante de UserNotification dentro de la tarea en segundo plano nativa de Windows registrada con PushNotificationTrigger o en el cliente de escucha del [evento PushNotificationReceived](https://docs.microsoft.com/en-us/uwp/api/windows.networking.pushnotifications.pushnotificationchannel.pushnotificationreceived).</span><span class="sxs-lookup"><span data-stu-id="c9cc1-109">Now, you can handle incoming UserNotification payload inside the Windows native background task registered with PushNotificationTrigger, or in your listner of the [PushNotificationReceived event](https://docs.microsoft.com/en-us/uwp/api/windows.networking.pushnotifications.pushnotificationchannel.pushnotificationreceived).</span></span> 

<span data-ttu-id="c9cc1-110">Por motivos de cumplimiento, seguridad y posibles optimizaciones, la notificación sin procesar entrante de WNS procedente de las notificaciones de Graph en el servidor podría ser con frecuencia un simple toque, que no contenga ningún dato inicialmente publicado por el servidor de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="c9cc1-110">For reasons including compliance, security, and potential optimizations, the incoming WNS raw notification coming from Graph Notifications server-side could often be a shoulder tap which doesn’t contain any data that is initially published by the app server.</span></span> <span data-ttu-id="c9cc1-111">La recuperación del contenido real de la notificación publicada por el servidor de aplicaciones se oculta detrás de las API del SDK de cliente.</span><span class="sxs-lookup"><span data-stu-id="c9cc1-111">The retrieval of the actual notification content published by app server is hidden behind client-side SDK APIs.</span></span> <span data-ttu-id="c9cc1-112">En este caso, el SDK siempre pedirá al cliente de la aplicación que le pase la carga entrante de notificación sin procesar de WNS.</span><span class="sxs-lookup"><span data-stu-id="c9cc1-112">In this case, the SDK always asks the app client to pass the incoming WNS raw notification payload to the SDK.</span></span> <span data-ttu-id="c9cc1-113">Esto permite que el SDK determine si se trata de una notificación para escenarios de la característica Notificaciones de Graph o no (ya que el cliente de la aplicación puede usar las inserciones sin procesar de WNS para otros fines).</span><span class="sxs-lookup"><span data-stu-id="c9cc1-113">This allows the SDK to determine whether this is a notification for Graph Notifications scenarios or not (in case WNS raw push can also be used by the app client for other purposes).</span></span> 
