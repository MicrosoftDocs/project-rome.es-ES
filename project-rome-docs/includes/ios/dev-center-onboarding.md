---
title: include file
description: include file
ms.topic: include
ms.assetid: 0741073e-62de-4e31-8e3b-cd1a55027c1c
ms.localizationpriority: medium
ms.openlocfilehash: b03420e0229bed45fba5a079b955d62165a6b642
ms.sourcegitcommit: e95423df0e4427377ab74dbd12b0056233181d32
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 06/14/2019
ms.locfileid: "58907607"
---
## <a name="preliminary-setup-for-push-notifications"></a><span data-ttu-id="72968-103">Configuración preliminar para las notificaciones push</span><span class="sxs-lookup"><span data-stu-id="72968-103">Preliminary setup for push notifications</span></span>

### <a name="register-your-app-for-push-notifications"></a><span data-ttu-id="72968-104">Registro de la aplicación para notificaciones push</span><span class="sxs-lookup"><span data-stu-id="72968-104">Register your app for push notifications</span></span>

<span data-ttu-id="72968-105">Registra la aplicación con Apple para conseguir la compatibilidad con [Apple Push Notification](https://developer.apple.com/notifications/).</span><span class="sxs-lookup"><span data-stu-id="72968-105">Register your application with Apple for [Apple Push Notification](https://developer.apple.com/notifications/) support.</span></span> <span data-ttu-id="72968-106">No olvides anotar el id. del remitente y la clave de servidor que recibas; los necesitarás más adelante.</span><span class="sxs-lookup"><span data-stu-id="72968-106">Be sure to make note of the sender ID and server key that you receive; you'll need them later.</span></span> 

<span data-ttu-id="72968-107">Una vez efectuado el registro, debes asociar la funcionalidad de notificaciones push con la plataforma de dispositivos conectados de tu aplicación.</span><span class="sxs-lookup"><span data-stu-id="72968-107">Once registered, you must associate push notification functionality with the Connected Devices Platform in your app.</span></span>

```ObjectiveC
self.notificationRegistration = [[MCDConnectedDevicesNotificationRegistration alloc] init];
    if ([[UIApplication sharedApplication] isRegisteredForRemoteNotifications])
    {
        self.notificationRegistration.type = MCDNotificationTypeAPN;
    }
    else
    {
        self.notificationRegistration.type = MCDNotificationTypePolling;
    }
    self.notificationRegistration.appId = [[NSBundle mainBundle] bundleIdentifier];
    self.notificationRegistration.appDisplayName = (NSString*)[[NSBundle mainBundle] objectForInfoDictionaryKey:@"CFBundleDisplayName"];
    self.notificationRegistration.token = deviceToken;
    self.isRegisteredWithToken = YES;
```

### <a name="register-your-app-in-microsoft-windows-dev-center-for-cross-device-experiences"></a><span data-ttu-id="72968-108">Registro de la aplicación en el Centro de desarrollo de Microsoft Windows para experiencias multidispositivo</span><span class="sxs-lookup"><span data-stu-id="72968-108">Register your app in Microsoft Windows Dev Center for cross-device experiences</span></span>
<span data-ttu-id="72968-109">Si necesitas comunicación con el dispositivo iOS, deberás registrarte en el Centro de desarrollo de Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="72968-109">If you require communication to your iOS device, you'll need to register with the Microsoft Windows Dev Center.</span></span>  <span data-ttu-id="72968-110">A continuación, debes registrar la aplicación para acceder a la [característica de experiencias multidispositivo del Panel de desarrolladores de Microsoft](https://developer.microsoft.com/dashboard/crossplatform/web).</span><span class="sxs-lookup"><span data-stu-id="72968-110">Next, you need to register your app for the [cross-device experiences feature of the Microsoft Developer Dashboard](https://developer.microsoft.com/dashboard/crossplatform/web).</span></span> <span data-ttu-id="72968-111">Se sigue un procedimiento diferente al registro de la aplicación con MSA y AAD anterior.</span><span class="sxs-lookup"><span data-stu-id="72968-111">This is a different procedure from MSA and AAD app registration above.</span></span> <span data-ttu-id="72968-112">El objetivo principal de este proceso consiste en asignar las identidades de la aplicación específicas de la plataforma a una identidad de aplicación multiplataforma que se reconozca en la plataforma de dispositivos conectados y, al mismo tiempo, autorizar a la plataforma a enviar notificaciones con los servicios de notificación push nativos correspondiente a cada plataforma móvil.</span><span class="sxs-lookup"><span data-stu-id="72968-112">The main goal for this process is to map the platform specific app identities with a cross-platform app identity that is recognized by Connected Devices Platform, and at the same time authorizes the Platform to send notifications using the native push notification services corresponding to each mobile platform.</span></span> <span data-ttu-id="72968-113">En este caso, permite la comunicación a los puntos de conexión de la aplicación iOS mediante APNS (Apple Push Notification Service).</span><span class="sxs-lookup"><span data-stu-id="72968-113">In this case, it enables communication to iOS app endpoints via APNs – Apple Push Notification Service.</span></span> <span data-ttu-id="72968-114">Ve al Panel del Centro de desarrollo y allí, a Cross-Device Experiences (Experiencias multidispositivo) en el panel de navegación del lado izquierdo; selecciona la opción de configuración de una nueva aplicación multidispositivo.</span><span class="sxs-lookup"><span data-stu-id="72968-114">Go to Dev Center Dashboard, navigate to Cross-Device Experiences from the left side navigation pane, and select configuring a new cross-device app.</span></span>
<span data-ttu-id="72968-115">![Panel del Centro de desarrollo: experiencias multidispositivo](../../notifications/media/dev_center_portal/dev_center_portal_1_overview.png)</span><span class="sxs-lookup"><span data-stu-id="72968-115">![Dev Center Dashboard – Cross-Device Experiences](../../notifications/media/dev_center_portal/dev_center_portal_1_overview.png)</span></span>

<span data-ttu-id="72968-116">El proceso de incorporación del Centro de desarrollo requiere los siguientes pasos:</span><span class="sxs-lookup"><span data-stu-id="72968-116">The Dev Center on-boarding process require the following steps:</span></span>
* <span data-ttu-id="72968-117">Select supported platforms (Seleccionar plataformas compatibles): selecciona las plataformas donde la aplicación estará presente y habilitada para experiencias multidispositivo.</span><span class="sxs-lookup"><span data-stu-id="72968-117">Select supported platforms – select the platforms where your app will have a presence and be enabled for cross-device experiences.</span></span> <span data-ttu-id="72968-118">Puedes seleccionar Windows, Android o iOS.</span><span class="sxs-lookup"><span data-stu-id="72968-118">You can select from Windows, Android, and/or iOS.</span></span>
<span data-ttu-id="72968-119">![Experiencias multidispositivo: plataformas compatibles](../../notifications/media/dev_center_portal/dev_center_portal_2_supported_platforms.png)</span><span class="sxs-lookup"><span data-stu-id="72968-119">![Cross-Device Experiences – Supported Platforms](../../notifications/media/dev_center_portal/dev_center_portal_2_supported_platforms.png)</span></span>

* <span data-ttu-id="72968-120">Provide app IDs (Proporcionar id. de la aplicación): proporciona los id. de la aplicación para cada una de las plataformas donde la aplicación estará presente.</span><span class="sxs-lookup"><span data-stu-id="72968-120">Provide app IDs – provide app IDs for each of the platform where your app has a presence.</span></span>
<span data-ttu-id="72968-121">![Experiencias multidispositivo: id. de la aplicación](../../notifications/media/dev_center_portal/dev_center_portal_3_app_ids.png)</span><span class="sxs-lookup"><span data-stu-id="72968-121">![Cross-Device Experiences – App IDs](../../notifications/media/dev_center_portal/dev_center_portal_3_app_ids.png)</span></span>
> [!NOTE]
> <span data-ttu-id="72968-122">Puedes agregar varios id. (hasta diez) por plataforma; esto se aplica en el caso de tener varias versiones de la misma aplicación, o incluso diferentes aplicaciones, que quieres que reciban las mismas notificaciones enviadas por el servidor de aplicaciones destinadas al mismo usuario.</span><span class="sxs-lookup"><span data-stu-id="72968-122">You may add different IDs (up to ten) per platform – this is in case you have multiple version of the same app, or even different apps, that want to be able to receive the same notifications sent by your app server targeted at the same user.</span></span> 
> [!TIP] 
> <span data-ttu-id="72968-123">En las aplicaciones iOS, es el nombre del paquete que asignaste a la aplicación al crear el proyecto.</span><span class="sxs-lookup"><span data-stu-id="72968-123">For iOS apps, this is the Package Name you assigned to your app when you created the project.</span></span> 

* <span data-ttu-id="72968-124">Proporciona o selecciona los id. de la aplicación de los registros de la aplicación con MSA o AAD.</span><span class="sxs-lookup"><span data-stu-id="72968-124">Provide or select the app IDs from MSA and/or AAD app registrations.</span></span> <span data-ttu-id="72968-125">Estas identificaciones de cliente correspondientes al registro de la aplicación con AAD o MSA se obtuvieron en los pasos de registro de la aplicación con MSA o AAD anteriores, indicados más arriba.</span><span class="sxs-lookup"><span data-stu-id="72968-125">These client IDs corresponding to MSA or AAD app registration were obtained in the previous MSA/AAD app registration steps from above.</span></span>
<span data-ttu-id="72968-126">![Experiencias multidispositivo: registros de la aplicación con MSA y AAD](../../notifications/media/dev_center_portal/dev_center_portal_4_msa_aad_connections.png)</span><span class="sxs-lookup"><span data-stu-id="72968-126">![Cross-Device Experiences – MSA and AAD App Registrations](../../notifications/media/dev_center_portal/dev_center_portal_4_msa_aad_connections.png)</span></span>
* <span data-ttu-id="72968-127">Las funcionalidades de la plataforma de dispositivos conectados aprovechan cada una de las plataformas de notificación nativas de las principales plataformas para enviar notificaciones hasta los puntos de conexión cliente de la aplicación, es decir, WNS (para Windows UWP), GCM (para Android) y APNs (para iOS).</span><span class="sxs-lookup"><span data-stu-id="72968-127">Connected Devices Platform capabilities leverages each of the native notification platforms on major platforms to send notifications down to the app client endpoints, namely, WNS (for Windows UWP), GCM (for Android) and APNs (for iOS).</span></span> <span data-ttu-id="72968-128">Proporciona tus credenciales para estas plataformas de notificación para permitir que la plataforma entregue las notificaciones para el servidor de aplicaciones al publicar notificaciones destinadas al usuario.</span><span class="sxs-lookup"><span data-stu-id="72968-128">Provide your credentials for these notification platforms to enable the Platform to deliver the notifications for your app server, when you publish user-targeted notifications.</span></span> 
<span data-ttu-id="72968-129">![Experiencias multidispositivo: credenciales de notificaciones push](../../notifications/media/dev_center_portal/dev_center_portal_5_push_credentials.png)</span><span class="sxs-lookup"><span data-stu-id="72968-129">![Cross-Device Experiences – Push Credentials](../../notifications/media/dev_center_portal/dev_center_portal_5_push_credentials.png)</span></span>
> [!NOTE] 
> <span data-ttu-id="72968-130">En iOS, es necesario habilitar APNS para la comunicación con un dispositivo iOS.</span><span class="sxs-lookup"><span data-stu-id="72968-130">For iOS, enabling APNs is a prerequisite to communication to an iOS device.</span></span> <span data-ttu-id="72968-131">Consulta [APNs Overview](https://developer.apple.com/library/archive/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/APNSOverview.html#//apple_ref/doc/uid/TP40008194-CH8-SW1) (Introducción a APNS) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="72968-131">See [APNs Overview](https://developer.apple.com/library/archive/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/APNSOverview.html#//apple_ref/doc/uid/TP40008194-CH8-SW1) for more details.</span></span> <span data-ttu-id="72968-132">Cuando hayas completado la incorporación, puedes proporcionar las credenciales de notificaciones push para la plataforma de dispositivos conectados a través del Centro de desarrollo de Windows.</span><span class="sxs-lookup"><span data-stu-id="72968-132">Once you complete the onboarding, you can then provide the push credentials via Windows Dev Center to the Connected Device Platform.</span></span> 
* <span data-ttu-id="72968-133">El último paso consiste en comprobar el dominio de la aplicación multidispositivo; sirve como proceso de verificación para confirmar que la aplicación tiene la propiedad de este dominio, que actúa como identidad de aplicación multidispositivo para la aplicación que registraste.</span><span class="sxs-lookup"><span data-stu-id="72968-133">The last step is to verify your cross-device app domain, which serves as a verification process to prove that your app has the ownership of this domain which acts like a cross-device app identity for the app you registered.</span></span>
<span data-ttu-id="72968-134">![Experiencias multidispositivo: verificación del dominio](../../notifications/media/dev_center_portal/dev_center_portal_6_domain_verification.png)</span><span class="sxs-lookup"><span data-stu-id="72968-134">![Cross-Device Experiences – Domain Verification](../../notifications/media/dev_center_portal/dev_center_portal_6_domain_verification.png)</span></span>

### <a name="process-notifications-as-they-are-received-by-the-app"></a><span data-ttu-id="72968-135">Proceso de notificaciones a medida que se reciben en la aplicación</span><span class="sxs-lookup"><span data-stu-id="72968-135">Process notifications as they are received by the app</span></span>

<span data-ttu-id="72968-136">Después de validar la experiencia multidispositivo en el Centro de desarrollo de Microsoft Windows, asegúrate de que la aplicación puede procesar las notificaciones a medida que llegan.</span><span class="sxs-lookup"><span data-stu-id="72968-136">Once the Cross-Device experience within the Microsoft Windows Dev Center has been validated, make sure your app can process the notifications as they come in.</span></span> 

```ObjectiveC
`MCDConnectedDevicesProcessNotificationOperation* processOperation = [_platformManager.platform processNotification:notificationInfo];`
```