### <a name="associate-the-connected-devices-platform-with-the-native-push-notification-for-each-platform"></a><span data-ttu-id="4a97a-101">Asociar la plataforma de dispositivos conectados a la notificación de inserción nativa para cada plataforma.</span><span class="sxs-lookup"><span data-stu-id="4a97a-101">Associate the Connected Devices Platform with the native push notification for each platform.</span></span> 

<span data-ttu-id="4a97a-102">Como se mencionó anteriormente, los clientes de la aplicación deben proporcionar el conocimiento acerca de la canalización de notificaciones de inserción nativa que se va a usar para cada plataforma para el SDK de cliente y la plataforma de dispositivos conectados durante el proceso de registro para permitir que el gráfico servicio de notificación para enviar notificaciones cargabilidad de salida a cada punto de conexión del cliente de aplicación cuando el servidor de la aplicación publica una notificación de destinatarios de usuario a través de MS Graph API.</span><span class="sxs-lookup"><span data-stu-id="4a97a-102">Like previously mentioned, the app clients need to provide knowledge about the native push notification pipeline being used for each platform to the client-side SDK and the Connected Devices Platform during the registration process, in order to allow Graph notification service to fan-out notifications to each app client endpoint when your app server publishes a user-targeting notification via MS Graph APIs.</span></span>
<span data-ttu-id="4a97a-103">En los pasos anteriores, se inicializa la plataforma sin **NotificationProvider** parámetro.</span><span class="sxs-lookup"><span data-stu-id="4a97a-103">In the steps above, you initialized the Platform without **NotificationProvider** parameter.</span></span> <span data-ttu-id="4a97a-104">En este caso, deberá construir y pasar un objeto que implementa **NotificationProvider**.</span><span class="sxs-lookup"><span data-stu-id="4a97a-104">Here, you need to construct and pass in an object that implements **NotificationProvider**.</span></span> <span data-ttu-id="4a97a-105">Consulte **GraphNotificationProvider.cs** de ejemplo para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="4a97a-105">Please see **GraphNotificationProvider.cs** from sample for details.</span></span> 



<span data-ttu-id="4a97a-106">Entregar este registro en la implementación de **NotificationProvider**.</span><span class="sxs-lookup"><span data-stu-id="4a97a-106">Deliver this registration in your implementation of **NotificationProvider**.</span></span> <span data-ttu-id="4a97a-107">A continuación, la **plataforma** llamada de inicialización debe proporcionar local **plataforma** con el acceso al servicio de notificaciones de inserción, lo que permite la aplicación para recibir datos desde el servidor de notificaciones de MS Graph.</span><span class="sxs-lookup"><span data-stu-id="4a97a-107">Then, the **Platform** initialization call should provide the local **Platform** with access to the push notification service, allowing your app to receive data from the MS Graph Notifications server-side.</span></span> 

### <a name="pass-incoming-push-notifications-to-the-client-sdk"></a><span data-ttu-id="4a97a-108">Pasar notificaciones entrantes de inserción para el SDK de cliente</span><span class="sxs-lookup"><span data-stu-id="4a97a-108">Pass incoming push notifications to the client SDK</span></span>
<span data-ttu-id="4a97a-109">Ahora, puede controlar la carga de entrada UserNotification dentro de la tarea en segundo plano nativa registrada con PushNotificationTrigger o en el agente de escucha de Windows la [PushNotificationReceived eventos](https://docs.microsoft.com/en-us/uwp/api/windows.networking.pushnotifications.pushnotificationchannel.pushnotificationreceived).</span><span class="sxs-lookup"><span data-stu-id="4a97a-109">Now, you can handle incoming UserNotification payload inside the Windows native background task registered with PushNotificationTrigger, or in your listner of the [PushNotificationReceived event](https://docs.microsoft.com/en-us/uwp/api/windows.networking.pushnotifications.pushnotificationchannel.pushnotificationreceived).</span></span> 

<span data-ttu-id="4a97a-110">Por motivos incluidos posibles optimizaciones, seguridad y cumplimiento de normas, la notificación de WNS sin formato entrante procedente de las notificaciones de gráfico en el servidor podría ser a menudo una derivación de hombros que no contiene ningún dato que se publica inicialmente por el servidor de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="4a97a-110">For reasons including compliance, security, and potential optimizations, the incoming WNS raw notification coming from Graph Notifications server-side could often be a shoulder tap which doesn’t contain any data that is initially published by the app server.</span></span> <span data-ttu-id="4a97a-111">La recuperación de la notificación real contenida publicada por el servidor de aplicaciones está oculta detrás de la API del SDK de cliente.</span><span class="sxs-lookup"><span data-stu-id="4a97a-111">The retrieval of the actual notification content published by app server is hidden behind client-side SDK APIs.</span></span> <span data-ttu-id="4a97a-112">En este caso, el SDK siempre le preguntará el cliente de aplicación para pasar la carga de notificación sin procesar de WNS entrante para el SDK.</span><span class="sxs-lookup"><span data-stu-id="4a97a-112">In this case, the SDK always asks the app client to pass the incoming WNS raw notification payload to the SDK.</span></span> <span data-ttu-id="4a97a-113">Esto permite que el SDK determinar si se trata de una notificación para escenarios de notificaciones de Graph o no (en caso de inserción sin procesar de WNS también puede usarse por el cliente de aplicación para otros fines).</span><span class="sxs-lookup"><span data-stu-id="4a97a-113">This allows the SDK to determine whether this is a notification for Graph Notifications scenarios or not (in case WNS raw push can also be used by the app client for other purposes).</span></span> 
